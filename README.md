# norhum-strapi

norhum-siteãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®Strapi CMSã§ã™ã€‚

## ğŸš€ ã¯ã˜ã‚ã«

### å¿…è¦ãªç’°å¢ƒ

- Docker & Docker Compose
- Node.js 20+ (Dockerã‚’ä½¿ã‚ãªã„ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®å ´åˆ)
- pnpm 10.5.2+ (ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼)

### Dockerã‚’ä½¿ã£ãŸãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

1. **ç’°å¢ƒå¤‰æ•°ã‚’ã‚³ãƒ”ãƒ¼:**
   ```bash
   cp .env.example .env
   ```

2. **ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç”Ÿæˆ:**
   ```bash
   # APP_KEYSã‚’ç”Ÿæˆï¼ˆ4ã¤ã®ã‚­ãƒ¼ãŒå¿…è¦ï¼‰
   openssl rand -base64 32 | tr '\n' ',' && openssl rand -base64 32 | tr '\n' ',' && openssl rand -base64 32 | tr '\n' ',' && openssl rand -base64 32
   
   # ãã®ä»–ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç”Ÿæˆ
   openssl rand -base64 32  # API_TOKEN_SALT, ADMIN_JWT_SECRET ãªã©ã«ä½¿ç”¨
   ```

3. **Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•:**
   ```bash
   docker compose up --build
   ```

4. **Strapiç®¡ç†ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹:**
   - http://localhost:3002/admin ã‚’é–‹ã
   - æœ€åˆã®ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ

### Dockerã‚’ä½¿ã‚ãªã„ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
pnpm install
pnpm run develop
```

## ğŸ“¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
norhum-strapi/
â”œâ”€â”€ config/              # Strapiè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ database.ts      # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
â”‚   â”œâ”€â”€ server.ts         # ã‚µãƒ¼ãƒãƒ¼è¨­å®š
â”‚   â””â”€â”€ env/
â”‚       â””â”€â”€ production/   # æœ¬ç•ªç’°å¢ƒç”¨è¨­å®š
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/             # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—
â”‚   â””â”€â”€ admin/           # ç®¡ç†ç”»é¢ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
â”œâ”€â”€ docker/               # Dockerãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ Dockerfile        # æœ¬ç•ªç”¨Dockerfile
â”‚   â””â”€â”€ Dockerfile.dev    # é–‹ç™ºç”¨Dockerfile
â””â”€â”€ docker-compose.yml # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨Docker Compose
```

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€`main`ãƒ–ãƒ©ãƒ³ãƒã«å¤‰æ›´ãŒãƒ—ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã¨è‡ªå‹•çš„ã«Strapi Cloudã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

### GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **æ–°ã—ã„GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ:**
   ```bash
   # GitHubä¸Šã§ "norhum-strapi" ã¨ã„ã†åå‰ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ
   # ãã®å¾Œã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶š:
   git remote add origin https://github.com/YOUR_USERNAME/norhum-strapi.git
   git branch -M main
   git push -u origin main
   ```

### Strapi Cloudã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. https://cloud.strapi.io ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
3. ã“ã®GitHubãƒªãƒã‚¸ãƒˆãƒªï¼ˆ`norhum-strapi`ï¼‰ã‚’æ¥ç¶š
4. **Free**ãƒ—ãƒ©ãƒ³ã‚’é¸æŠ
5. **Base directory**: `.` (ãƒ«ãƒ¼ãƒˆ)
6. **Branch**: `main`

Strapi Cloudã¯è‡ªå‹•çš„ã«ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™:
- `main`ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã”ã¨ã«ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤
- PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æä¾›
- æœ¬ç•ªç’°å¢ƒç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ç”Ÿæˆ

## ğŸ”— norhum-siteã¨ã®é€£æº

### ç’°å¢ƒå¤‰æ•°ï¼ˆnorhum-siteå´ï¼‰

**ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º:**
```bash
NEXT_PUBLIC_STRAPI_URL=http://localhost:3002
```

**æœ¬ç•ªç’°å¢ƒï¼ˆAWS Amplifyï¼‰:**
```bash
NEXT_PUBLIC_STRAPI_URL=https://your-project.strapicloud.com
STRAPI_API_TOKEN=<Strapiç®¡ç†ç”»é¢ > è¨­å®š > APIãƒˆãƒ¼ã‚¯ãƒ³ ã§ç”Ÿæˆ>
```

## ğŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—

### Workï¼ˆåˆ¶ä½œå®Ÿç¸¾ï¼‰

ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç”¨ã®åˆ¶ä½œå®Ÿç¸¾ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã§ã™ã€‚

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ§‹æˆ:**
- `title` (å¿…é ˆ): ã‚¿ã‚¤ãƒˆãƒ«
- `slug` (å¿…é ˆ): URLã‚¹ãƒ©ãƒƒã‚°
- `description`: èª¬æ˜æ–‡
- `thumbnail`: ä¸€è¦§ç”¨ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ
- `detailImage`: è©³ç´°ãƒšãƒ¼ã‚¸ç”¨ç”»åƒ
- `content`: è©³ç´°æœ¬æ–‡ï¼ˆMarkdownå½¢å¼ãƒ»ç”»åƒåŸ‹ã‚è¾¼ã¿å¯ï¼‰
- `tags`: ã‚¿ã‚°é…åˆ—

**APIãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³è¨­å®š:**

ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã¯**è‡ªå‹•çš„ã«è¨­å®š**ã•ã‚Œã¾ã™ã€‚Strapièµ·å‹•æ™‚ã«`bootstrap`é–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã€`config/permissions.ts`ã§å®šç¾©ã•ã‚ŒãŸãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ãŒè‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã¾ã™ã€‚

æ‰‹å‹•ã§è¨­å®šã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€å¿…è¦ã«å¿œã˜ã¦`config/permissions.ts`ã‚’ç·¨é›†ã—ã¦ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€norhum-siteã‹ã‚‰Workãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸ“š å‚è€ƒè³‡æ–™

- [Strapi ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.strapi.io)
- [Strapi Cloud ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.strapi.io/cloud)
- [Strapi ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£](https://discord.strapi.io)
